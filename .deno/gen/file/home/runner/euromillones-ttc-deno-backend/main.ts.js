import { Application } from "./deps.ts";
import router from "./routes/routes.ts";
import { green, yellow } from "https://deno.land/std@0.53.0/fmt/colors.ts";
import _404 from "./controllers/management/404/404.controller.ts";
import _inicioApp from "./controllers/management/inicio.app/inicio.app.controller.ts";
const Denoenv = Deno.env.get("PORT");
const port = Denoenv ? parseInt(Denoenv) : 8080;
const app = new Application();
app.use(_inicioApp);
app.use(router.routes());
app.use(router.allowedMethods());
app.use(_404);
// app.use((ctx : Context)=>{
//   ctx.response.status = Status.OK
// });
app.addEventListener("listen", ({ secure , hostname , port  })=>{
    const protocol = secure ? "https://" : "http://";
    const url = `${protocol}${hostname ?? "localhost"}:${port}`;
    console.log(`${yellow("Listening on:")} ${green(url)}`);
});
await app.listen({
    port
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vaG9tZS9ydW5uZXIvZXVyb21pbGxvbmVzLXR0Yy1kZW5vLWJhY2tlbmQvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gXCIuL2RlcHMudHNcIjtcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vcm91dGVzL3JvdXRlcy50c1wiO1xuaW1wb3J0IHsgZ3JlZW4sIHllbGxvdyB9IGZyb20gXCJodHRwczovL2Rlbm8ubGFuZC9zdGRAMC41My4wL2ZtdC9jb2xvcnMudHNcIjtcbmltcG9ydCBfNDA0IGZyb20gXCIuL2NvbnRyb2xsZXJzL21hbmFnZW1lbnQvNDA0LzQwNC5jb250cm9sbGVyLnRzXCI7XG5pbXBvcnQgX2luaWNpb0FwcCBmcm9tIFwiLi9jb250cm9sbGVycy9tYW5hZ2VtZW50L2luaWNpby5hcHAvaW5pY2lvLmFwcC5jb250cm9sbGVyLnRzXCI7XG5cbmNvbnN0IERlbm9lbnYgPSBEZW5vLmVudi5nZXQoXCJQT1JUXCIpO1xuXG5jb25zdCBwb3J0OiBudW1iZXIgPSBEZW5vZW52ID8gcGFyc2VJbnQoRGVub2VudikgOiA4MDgwO1xuXG5jb25zdCBhcHAgPSBuZXcgQXBwbGljYXRpb24oKTtcblxuYXBwLnVzZShfaW5pY2lvQXBwKTtcblxuYXBwLnVzZShyb3V0ZXIucm91dGVzKCkpO1xuYXBwLnVzZShyb3V0ZXIuYWxsb3dlZE1ldGhvZHMoKSk7XG5hcHAudXNlKF80MDQpO1xuXG4vLyBhcHAudXNlKChjdHggOiBDb250ZXh0KT0+e1xuLy8gICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gU3RhdHVzLk9LXG4vLyB9KTtcblxuYXBwLmFkZEV2ZW50TGlzdGVuZXIoXCJsaXN0ZW5cIiwgKHsgc2VjdXJlLCBob3N0bmFtZSwgcG9ydCB9KSA9PiB7XG4gIGNvbnN0IHByb3RvY29sID0gc2VjdXJlID8gXCJodHRwczovL1wiIDogXCJodHRwOi8vXCI7XG4gIGNvbnN0IHVybCA9IGAke3Byb3RvY29sfSR7aG9zdG5hbWUgPz8gXCJsb2NhbGhvc3RcIn06JHtwb3J0fWA7XG4gIGNvbnNvbGUubG9nKGAke3llbGxvdyhcIkxpc3RlbmluZyBvbjpcIil9ICR7Z3JlZW4odXJsKX1gKTtcbn0pO1xuXG5hd2FpdCBhcHAubGlzdGVuKHsgcG9ydCB9KTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLFdBQVcsUUFBUSxZQUFZO0FBQ3hDLE9BQU8sWUFBWSxxQkFBcUI7QUFDeEMsU0FBUyxLQUFLLEVBQUUsTUFBTSxRQUFRLDZDQUE2QztBQUMzRSxPQUFPLFVBQVUsaURBQWlEO0FBQ2xFLE9BQU8sZ0JBQWdCLCtEQUErRDtBQUV0RixNQUFNLFVBQVUsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDO0FBRTdCLE1BQU0sT0FBZSxVQUFVLFNBQVMsV0FBVyxJQUFJO0FBRXZELE1BQU0sTUFBTSxJQUFJO0FBRWhCLElBQUksR0FBRyxDQUFDO0FBRVIsSUFBSSxHQUFHLENBQUMsT0FBTyxNQUFNO0FBQ3JCLElBQUksR0FBRyxDQUFDLE9BQU8sY0FBYztBQUM3QixJQUFJLEdBQUcsQ0FBQztBQUVSLDZCQUE2QjtBQUM3QixvQ0FBb0M7QUFDcEMsTUFBTTtBQUVOLElBQUksZ0JBQWdCLENBQUMsVUFBVSxDQUFDLEVBQUUsT0FBTSxFQUFFLFNBQVEsRUFBRSxLQUFJLEVBQUUsR0FBSztJQUM3RCxNQUFNLFdBQVcsU0FBUyxhQUFhLFNBQVM7SUFDaEQsTUFBTSxNQUFNLENBQUMsRUFBRSxTQUFTLEVBQUUsWUFBWSxZQUFZLENBQUMsRUFBRSxLQUFLLENBQUM7SUFDM0QsUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFFLE9BQU8saUJBQWlCLENBQUMsRUFBRSxNQUFNLEtBQUssQ0FBQztBQUN4RDtBQUVBLE1BQU0sSUFBSSxNQUFNLENBQUM7SUFBRTtBQUFLIn0=