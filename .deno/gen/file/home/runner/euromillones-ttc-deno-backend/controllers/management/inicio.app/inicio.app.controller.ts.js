import { Status } from "../../../deps.ts";
import _global from "../../../global.ts";
export default (async (ctx, nextFn)=>{
    try {
        //TODO LO QUE QUIERO QUE HAGA AL ENTRAR EN LA APP
        _global.contador++;
        console.log(`inicio APP ${ctx.request.url.pathname}  => ${_global.contador}`);
        await nextFn();
    } catch (err) {
        console.log('Gestión de errores');
        ctx.response.status = Status.InternalServerError;
        // console.dir(err);
        //  console.dir(context);
        ctx.response.body = {
            msg: err.message
        };
    //LLAMARÉ A ALGÚN MÉTODO PARA GESTION DE ERRORES
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vaG9tZS9ydW5uZXIvZXVyb21pbGxvbmVzLXR0Yy1kZW5vLWJhY2tlbmQvY29udHJvbGxlcnMvbWFuYWdlbWVudC9pbmljaW8uYXBwL2luaWNpby5hcHAuY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250ZXh0LCBTdGF0dXMgfSBmcm9tIFwiLi4vLi4vLi4vZGVwcy50c1wiO1xuaW1wb3J0IF9nbG9iYWwgZnJvbSBcIi4uLy4uLy4uL2dsb2JhbC50c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHg6IENvbnRleHQsIG5leHRGbiA6IGFueSkgPT4ge1xuICB0cnkge1xuICAgIC8vVE9ETyBMTyBRVUUgUVVJRVJPIFFVRSBIQUdBIEFMIEVOVFJBUiBFTiBMQSBBUFBcblxuICAgIF9nbG9iYWwuY29udGFkb3IrKztcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgaW5pY2lvIEFQUCAke2N0eC5yZXF1ZXN0LnVybC5wYXRobmFtZX0gID0+ICR7X2dsb2JhbC5jb250YWRvcn1gKVxuICAgIGF3YWl0IG5leHRGbigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZygnR2VzdGnDs24gZGUgZXJyb3JlcycpXG4gICAgY3R4LnJlc3BvbnNlLnN0YXR1cyA9IFN0YXR1cy5JbnRlcm5hbFNlcnZlckVycm9yO1xuICAgIC8vIGNvbnNvbGUuZGlyKGVycik7XG4gICAgLy8gIGNvbnNvbGUuZGlyKGNvbnRleHQpO1xuICAgIGN0eC5yZXNwb25zZS5ib2R5ID0geyBtc2c6IGVyci5tZXNzYWdlIH07XG5cbiAgICAvL0xMQU1BUsOJIEEgQUxHw5pOIE3DiVRPRE8gUEFSQSBHRVNUSU9OIERFIEVSUk9SRVNcbiAgICBcbiAgICBcbiAgfVxufTsiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsU0FBa0IsTUFBTSxRQUFRLG1CQUFtQjtBQUNuRCxPQUFPLGFBQWEscUJBQW9CO0FBRXhDLGVBQWUsQ0FBQSxPQUFPLEtBQWMsU0FBaUI7SUFDbkQsSUFBSTtRQUNGLGlEQUFpRDtRQUVqRCxRQUFRLFFBQVE7UUFFaEIsUUFBUSxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxRQUFRLENBQUMsQ0FBQztRQUM1RSxNQUFNO0lBQ1IsRUFBRSxPQUFPLEtBQUs7UUFDWixRQUFRLEdBQUcsQ0FBQztRQUNaLElBQUksUUFBUSxDQUFDLE1BQU0sR0FBRyxPQUFPLG1CQUFtQjtRQUNoRCxvQkFBb0I7UUFDcEIseUJBQXlCO1FBQ3pCLElBQUksUUFBUSxDQUFDLElBQUksR0FBRztZQUFFLEtBQUssSUFBSSxPQUFPO1FBQUM7SUFFdkMsZ0RBQWdEO0lBR2xEO0FBQ0YsQ0FBQSxFQUFFIn0=