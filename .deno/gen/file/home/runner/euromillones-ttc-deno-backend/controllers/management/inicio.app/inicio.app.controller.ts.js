import { Status } from "../../../deps.ts";
import _global from "../../../global.ts";
// deno-lint-ignore no-explicit-any
export default (async (ctx, nextFn)=>{
    try {
        //TODO LO QUE QUIERO QUE HAGA AL ENTRAR EN LA APP
        _global.contador++;
        console.log(`inicio APP ${ctx.request.url.pathname}  => ${_global.contador}`);
        await nextFn();
    } catch (err) {
        console.log('Gestión de errores');
        ctx.response.status = Status.InternalServerError;
        // console.dir(err);
        //  console.dir(context);
        ctx.response.body = {
            msg: err.message
        };
    //LLAMARÉ A ALGÚN MÉTODO PARA GESTION DE ERRORES
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vaG9tZS9ydW5uZXIvZXVyb21pbGxvbmVzLXR0Yy1kZW5vLWJhY2tlbmQvY29udHJvbGxlcnMvbWFuYWdlbWVudC9pbmljaW8uYXBwL2luaWNpby5hcHAuY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250ZXh0LCBTdGF0dXMgfSBmcm9tIFwiLi4vLi4vLi4vZGVwcy50c1wiO1xuaW1wb3J0IF9nbG9iYWwgZnJvbSBcIi4uLy4uLy4uL2dsb2JhbC50c1wiXG5cbi8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZGVmYXVsdCBhc3luYyAoY3R4OiBDb250ZXh0LCBuZXh0Rm46ICgpID0+IGFueSkgPT4ge1xuICB0cnkge1xuICAgIC8vVE9ETyBMTyBRVUUgUVVJRVJPIFFVRSBIQUdBIEFMIEVOVFJBUiBFTiBMQSBBUFBcblxuICAgIF9nbG9iYWwuY29udGFkb3IrKztcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgaW5pY2lvIEFQUCAke2N0eC5yZXF1ZXN0LnVybC5wYXRobmFtZX0gID0+ICR7X2dsb2JhbC5jb250YWRvcn1gKVxuICAgIGF3YWl0IG5leHRGbigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZygnR2VzdGnDs24gZGUgZXJyb3JlcycpXG4gICAgY3R4LnJlc3BvbnNlLnN0YXR1cyA9IFN0YXR1cy5JbnRlcm5hbFNlcnZlckVycm9yO1xuICAgIC8vIGNvbnNvbGUuZGlyKGVycik7XG4gICAgLy8gIGNvbnNvbGUuZGlyKGNvbnRleHQpO1xuICAgIGN0eC5yZXNwb25zZS5ib2R5ID0geyBtc2c6IGVyci5tZXNzYWdlIH07XG5cbiAgICAvL0xMQU1BUsOJIEEgQUxHw5pOIE3DiVRPRE8gUEFSQSBHRVNUSU9OIERFIEVSUk9SRVNcbiAgICBcbiAgICBcbiAgfVxufTsiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsU0FBa0IsTUFBTSxRQUFRLG1CQUFtQjtBQUNuRCxPQUFPLGFBQWEscUJBQW9CO0FBRXhDLG1DQUFtQztBQUNuQyxlQUFlLENBQUEsT0FBTyxLQUFjLFNBQXNCO0lBQ3hELElBQUk7UUFDRixpREFBaUQ7UUFFakQsUUFBUSxRQUFRO1FBRWhCLFFBQVEsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLFFBQVEsUUFBUSxDQUFDLENBQUM7UUFDNUUsTUFBTTtJQUNSLEVBQUUsT0FBTyxLQUFLO1FBQ1osUUFBUSxHQUFHLENBQUM7UUFDWixJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsT0FBTyxtQkFBbUI7UUFDaEQsb0JBQW9CO1FBQ3BCLHlCQUF5QjtRQUN6QixJQUFJLFFBQVEsQ0FBQyxJQUFJLEdBQUc7WUFBRSxLQUFLLElBQUksT0FBTztRQUFDO0lBRXZDLGdEQUFnRDtJQUdsRDtBQUNGLENBQUEsRUFBRSJ9